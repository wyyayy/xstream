"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../src/index");
var delay_1 = require("../src/extra/delay");
var stream = index_1.default.periodic(1000)
    .compose(delay_1.default(11000))
    .filter(function (i) { return i % 2 === 0; })
    .map(function (i) { return i * i; })
    .endWhen(index_1.default.periodic(15000).take(1));
// So far, the stream is idle.
// As soon as it gets its first listener, it starts executing.
stream.addListener({
    next: function (i) { return console.log(i); },
    error: function (err) { return console.error(err); },
    complete: function () { return console.log('completed'); },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxzQ0FBOEI7QUFDOUIsNENBQXVDO0FBRXZDLElBQUksTUFBTSxHQUFHLGVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO0tBQ2pCLE9BQU8sQ0FBQyxlQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDckIsTUFBTSxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQVgsQ0FBVyxDQUFDO0tBQ3hCLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsR0FBRyxDQUFDLEVBQUwsQ0FBSyxDQUFDO0tBQ2YsT0FBTyxDQUFDLGVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFekMsOEJBQThCO0FBQzlCLDhEQUE4RDtBQUM5RCxNQUFNLENBQUMsV0FBVyxDQUFDO0lBQ2YsSUFBSSxFQUFFLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBZCxDQUFjO0lBQ3pCLEtBQUssRUFBRSxVQUFBLEdBQUcsSUFBSSxPQUFBLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQWxCLENBQWtCO0lBQ2hDLFFBQVEsRUFBRSxjQUFNLE9BQUEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBeEIsQ0FBd0I7Q0FDM0MsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHhzIGZyb20gJy4uL3NyYy9pbmRleCc7XG5pbXBvcnQgZGVsYXkgZnJvbSAnLi4vc3JjL2V4dHJhL2RlbGF5JztcblxubGV0IHN0cmVhbSA9IHhzLnBlcmlvZGljKDEwMDApXG4gICAgICAgICAgICAuY29tcG9zZShkZWxheSgxMTAwMCkpXG4gICAgICAgICAgICAuZmlsdGVyKGkgPT4gaSAlIDIgPT09IDApXG4gICAgICAgICAgICAubWFwKGkgPT4gaSAqIGkpXG4gICAgICAgICAgICAuZW5kV2hlbih4cy5wZXJpb2RpYygxNTAwMCkudGFrZSgxKSk7XG5cbiAgICAgICAgLy8gU28gZmFyLCB0aGUgc3RyZWFtIGlzIGlkbGUuXG4gICAgICAgIC8vIEFzIHNvb24gYXMgaXQgZ2V0cyBpdHMgZmlyc3QgbGlzdGVuZXIsIGl0IHN0YXJ0cyBleGVjdXRpbmcuXG4gICAgICAgIHN0cmVhbS5hZGRMaXN0ZW5lcih7XG4gICAgICAgICAgICBuZXh0OiBpID0+IGNvbnNvbGUubG9nKGkpLFxuICAgICAgICAgICAgZXJyb3I6IGVyciA9PiBjb25zb2xlLmVycm9yKGVyciksXG4gICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ2NvbXBsZXRlZCcpLFxuICAgICAgICB9KTsiXX0=